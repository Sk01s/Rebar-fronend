import{r as g,j as h,L as C,a as R}from"./index-f7c5f2e7.js";import{p as v,F as L,f as Ee,a as be,b as Se,c as xe,d as Ae,e as je}from"./index-b3c681c3.js";import{_ as Y}from"./firebase-config-409fc865.js";import{useCategories as Re}from"./CategoiresContext-e0e81007.js";import{u as Ie}from"./SetOutFucntions-f088c140.js";function ke(n,e){if(n==null)return{};var i={},r=Object.keys(n),t,a;for(a=0;a<r.length;a++)t=r[a],!(e.indexOf(t)>=0)&&(i[t]=n[t]);return i}function X(){return X=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},X.apply(this,arguments)}function ee(n,e){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r},ee(n,e)}function qe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,ee(n,e)}/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var ie=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,Ce=/\\([\u000b\u0020-\u00ff])/g,Ge=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,Ne=Le;function Le(n){if(!n)throw new TypeError("argument string is required");var e=typeof n=="object"?We(n):n;if(typeof e!="string")throw new TypeError("argument string is required to be a string");var i=e.indexOf(";"),r=i!==-1?e.substr(0,i).trim():e.trim();if(!Ge.test(r))throw new TypeError("invalid media type");var t=new Oe(r.toLowerCase());if(i!==-1){var a,o,s;for(ie.lastIndex=i;o=ie.exec(e);){if(o.index!==i)throw new TypeError("invalid parameter format");i+=o[0].length,a=o[1].toLowerCase(),s=o[2],s[0]==='"'&&(s=s.substr(1,s.length-2).replace(Ce,"$1")),t.parameters[a]=s}if(i!==e.length)throw new TypeError("invalid parameter format")}return t}function We(n){var e;if(typeof n.getHeader=="function"?e=n.getHeader("content-type"):typeof n.headers=="object"&&(e=n.headers&&n.headers["content-type"]),typeof e!="string")throw new TypeError("content-type header is missing from object");return e}function Oe(n){this.parameters=Object.create(null),this.type=n}var W=new Map,ue=function(e){return e.cloneNode(!0)},ae=function(){return window.location.protocol==="file:"},fe=function(e,i,r){var t=new XMLHttpRequest;t.onreadystatechange=function(){try{if(!/\.svg/i.test(e)&&t.readyState===2){var a=t.getResponseHeader("Content-Type");if(!a)throw new Error("Content type not found");var o=Ne(a).type;if(!(o==="image/svg+xml"||o==="text/plain"))throw new Error("Invalid content type: ".concat(o))}if(t.readyState===4){if(t.status===404||t.responseXML===null)throw new Error(ae()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+e);if(t.status===200||ae()&&t.status===0)r(null,t);else throw new Error("There was a problem injecting the SVG: "+t.status+" "+t.statusText)}}catch(s){if(t.abort(),s instanceof Error)r(s,t);else throw s}},t.open("GET",e),t.withCredentials=i,t.overrideMimeType&&t.overrideMimeType("text/xml"),t.send()},k={},oe=function(e,i){k[e]=k[e]||[],k[e].push(i)},_e=function(e){for(var i=function(o,s){setTimeout(function(){if(Array.isArray(k[e])){var u=W.get(e),d=k[e][o];u instanceof SVGSVGElement&&d(null,ue(u)),u instanceof Error&&d(u),o===k[e].length-1&&delete k[e]}},0)},r=0,t=k[e].length;r<t;r++)i(r)},Te=function(e,i,r){if(W.has(e)){var t=W.get(e);if(t===void 0){oe(e,r);return}if(t instanceof SVGSVGElement){r(null,ue(t));return}}W.set(e,void 0),oe(e,r),fe(e,i,function(a,o){var s;a?W.set(e,a):((s=o.responseXML)===null||s===void 0?void 0:s.documentElement)instanceof SVGSVGElement&&W.set(e,o.responseXML.documentElement),_e(e)})},Ve=function(e,i,r){fe(e,i,function(t,a){var o;t?r(t):((o=a.responseXML)===null||o===void 0?void 0:o.documentElement)instanceof SVGSVGElement&&r(null,a.responseXML.documentElement)})},Me=0,Pe=function(){return++Me},A=[],se={},De="http://www.w3.org/2000/svg",J="http://www.w3.org/1999/xlink",ce=function(e,i,r,t,a,o,s){var u=e.getAttribute("data-src")||e.getAttribute("src");if(!u){s(new Error("Invalid data-src or src attribute"));return}if(A.indexOf(e)!==-1){A.splice(A.indexOf(e),1),e=null;return}A.push(e),e.setAttribute("src","");var d=t?Te:Ve;d(u,a,function(I,c){if(!c){A.splice(A.indexOf(e),1),e=null,s(I);return}var E=e.getAttribute("id");E&&c.setAttribute("id",E);var b=e.getAttribute("title");b&&c.setAttribute("title",b);var f=e.getAttribute("width");f&&c.setAttribute("width",f);var m=e.getAttribute("height");m&&c.setAttribute("height",m);var l=Array.from(new Set(Y(Y(Y([],(c.getAttribute("class")||"").split(" "),!0),["injected-svg"],!1),(e.getAttribute("class")||"").split(" "),!0))).join(" ").trim();c.setAttribute("class",l);var w=e.getAttribute("style");w&&c.setAttribute("style",w),c.setAttribute("data-src",u);var j=[].filter.call(e.attributes,function(y){return/^data-\w[\w-]*$/.test(y.name)});if(Array.prototype.forEach.call(j,function(y){y.name&&y.value&&c.setAttribute(y.name,y.value)}),r){var S={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]},q,p,x,G,T;Object.keys(S).forEach(function(y){q=y,x=S[y],p=c.querySelectorAll(q+"[id]");for(var ve=function(B,Be){G=p[B].id,T=G+"-"+Pe();var M;Array.prototype.forEach.call(x,function(K){M=c.querySelectorAll("["+K+'*="'+G+'"]');for(var D=0,ye=M.length;D<ye;D++){var ne=M[D].getAttribute(K);ne&&!ne.match(new RegExp('url\\("?#'+G+'"?\\)'))||M[D].setAttribute(K,"url(#"+T+")")}});for(var F=c.querySelectorAll("[*|href]"),Q=[],P=0,ge=F.length;P<ge;P++){var re=F[P].getAttributeNS(J,"href");re&&re.toString()==="#"+p[B].id&&Q.push(F[P])}for(var Z=0,we=Q.length;Z<we;Z++)Q[Z].setAttributeNS(J,"href","#"+T);p[B].id=T},z=0,me=p.length;z<me;z++)ve(z)})}c.removeAttribute("xmlns:a");for(var O=c.querySelectorAll("script"),V=[],H,_,N=0,de=O.length;N<de;N++)_=O[N].getAttribute("type"),(!_||_==="application/ecmascript"||_==="application/javascript"||_==="text/javascript")&&(H=O[N].innerText||O[N].textContent,H&&V.push(H),c.removeChild(O[N]));if(V.length>0&&(i==="always"||i==="once"&&!se[u])){for(var $=0,pe=V.length;$<pe;$++)new Function(V[$])(window);se[u]=!0}var he=c.querySelectorAll("style");if(Array.prototype.forEach.call(he,function(y){y.textContent+=""}),c.setAttribute("xmlns",De),c.setAttribute("xmlns:xlink",J),o(c),!e.parentNode){A.splice(A.indexOf(e),1),e=null,s(new Error("Parent node is null"));return}e.parentNode.replaceChild(c,e),A.splice(A.indexOf(e),1),e=null,s(null,c)})},Ue=function(e,i){var r=i===void 0?{}:i,t=r.afterAll,a=t===void 0?function(){}:t,o=r.afterEach,s=o===void 0?function(){}:o,u=r.beforeEach,d=u===void 0?function(){}:u,I=r.cacheRequests,c=I===void 0?!0:I,E=r.evalScripts,b=E===void 0?"never":E,f=r.httpRequestWithCredentials,m=f===void 0?!1:f,l=r.renumerateIRIElements,w=l===void 0?!0:l;if(e&&"length"in e)for(var j=0,S=0,q=e.length;S<q;S++)ce(e[S],b,w,c,m,d,function(p,x){s(p,x),e&&"length"in e&&e.length===++j&&a(j)});else e?ce(e,b,w,c,m,d,function(p,x){s(p,x),a(1),e=null}):a(0)},Xe=function(e){var i=(e==null?void 0:e.ownerDocument)||document;return i.defaultView||window},He=function(e,i){for(var r in e)if(!(r in i))return!0;for(var t in i)if(e[t]!==i[t])return!0;return!1},$e=["afterInjection","beforeInjection","evalScripts","fallback","httpRequestWithCredentials","loading","renumerateIRIElements","src","useRequestCache","wrapper"],U="http://www.w3.org/2000/svg",le="http://www.w3.org/1999/xlink",te=function(n){qe(e,n);function e(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return r=n.call.apply(n,[this].concat(a))||this,r.initialState={hasError:!1,isLoading:!0},r.state=r.initialState,r._isMounted=!1,r.reactWrapper=void 0,r.nonReactWrapper=void 0,r.refCallback=function(s){r.reactWrapper=s},r}var i=e.prototype;return i.renderSVG=function(){var t=this;if(this.reactWrapper instanceof Xe(this.reactWrapper).Node){var a=this.props,o=a.evalScripts,s=a.httpRequestWithCredentials,u=a.renumerateIRIElements,d=a.src,I=a.useRequestCache,c=this.props.onError,E=this.props.beforeInjection,b=this.props.afterInjection,f=this.props.wrapper,m,l;f==="svg"?(m=document.createElementNS(U,f),m.setAttribute("xmlns",U),m.setAttribute("xmlns:xlink",le),l=document.createElementNS(U,f)):(m=document.createElement(f),l=document.createElement(f)),m.appendChild(l),l.dataset.src=d,this.nonReactWrapper=this.reactWrapper.appendChild(m);var w=function(p){if(t.removeSVG(),!t._isMounted){c(p);return}t.setState(function(){return{hasError:!0,isLoading:!1}},function(){c(p)})},j=function(p,x){if(p){w(p);return}t._isMounted&&t.setState(function(){return{isLoading:!1}},function(){try{b(x)}catch(G){w(G)}})},S=function(p){try{E(p)}catch(x){w(x)}};Ue(l,{afterEach:j,beforeEach:S,cacheRequests:I,evalScripts:o,httpRequestWithCredentials:s,renumerateIRIElements:u})}},i.removeSVG=function(){var t;(t=this.nonReactWrapper)!=null&&t.parentNode&&(this.nonReactWrapper.parentNode.removeChild(this.nonReactWrapper),this.nonReactWrapper=null)},i.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},i.componentDidUpdate=function(t){var a=this;He(X({},t),this.props)&&this.setState(function(){return a.initialState},function(){a.removeSVG(),a.renderSVG()})},i.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},i.render=function(){var t=this.props;t.afterInjection,t.beforeInjection,t.evalScripts;var a=t.fallback;t.httpRequestWithCredentials;var o=t.loading;t.renumerateIRIElements,t.src,t.useRequestCache;var s=t.wrapper,u=ke(t,$e),d=s;return g.createElement(d,X({},u,{ref:this.refCallback},s==="svg"?{xmlns:U,xmlnsXlink:le}:{}),this.state.isLoading&&o&&g.createElement(o,null),this.state.hasError&&a&&g.createElement(a,null))},e}(g.Component);te.defaultProps={afterInjection:function(){},beforeInjection:function(){},evalScripts:"never",fallback:null,httpRequestWithCredentials:!1,loading:null,onError:function(){},renumerateIRIElements:!0,useRequestCache:!0,wrapper:"div"};te.propTypes={afterInjection:v.func,beforeInjection:v.func,evalScripts:v.oneOf(["always","once","never"]),fallback:v.oneOfType([v.func,v.object,v.string]),httpRequestWithCredentials:v.bool,loading:v.oneOfType([v.func,v.object,v.string]),onError:v.func,renumerateIRIElements:v.bool,src:v.string.isRequired,useRequestCache:v.bool,wrapper:v.oneOf(["div","span","svg"])};function Je(){const{currentUser:n}=Ie(),e=()=>!(window.innerWidth>991),i=l=>{l.key==="Enter"&&b.current.click()},r=l=>{var w,j;(w=f.current)!=null&&w.classList.contains("menu-btn")&&(f.current.style.animation="btn-animation 400ms 1",setTimeout(()=>f.current.style.animation="",400)),(j=f.current)==null||j.classList.toggle("active"),I(S=>!S)},[t,a]=g.useState(""),{categories:o}=Re(),[s,u]=g.useState(e),[d,I]=g.useState(()=>s===!0),c=g.useRef(null),E=g.useRef(null),b=g.useRef(null),f=g.useRef();g.useEffect(()=>{if(!s)return;const l=c.current.getBoundingClientRect().height;E.current.style.top=`${l}px`},[s,d]),g.useEffect(()=>{d!==!0&&setTimeout(()=>{document.addEventListener("click",l=>{l.composedPath().includes(f.current)||r()},{once:!0})},400)},[d]),g.useEffect(()=>{const l=()=>{u(e)};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}},[]);const m=o==null?void 0:o.map(l=>h(C,{to:`/categories/${l.id}`,children:l.name},l.id));return R("header",{ref:c,className:"navbar",children:[R("nav",{className:" justify-sb align-ce flex user-select",children:[R("div",{className:"logo-search flex ju-sb align-ce",children:[h(C,{to:"/",className:"logo cl-black pointer",style:{color:"inherit",textDecoration:"none",padding:0},children:h(te,{src:"/logo.svg"})}),R("div",{className:"search flex",children:[h("input",{type:"search",placeholder:"Search",onChange:l=>a(l.target.value),onKeyUp:i}),h(C,{ref:b,to:`/search/name=${t}`,children:h(L,{icon:Ee})})]})]}),s&&h("div",{className:"menu-btn",ref:f,onClick:r,children:h(L,{icon:be,style:{fontSize:"1.5rem",color:"var(--color-ac-dark)"}})}),R("div",{ref:E,className:s&&d&&"links flex links-small hide "||!d&&s&&"links flex links-small "||!s&&"links flex links",children:[n?R(C,{style:{color:"inherit",textDecoration:"inherit"},to:"/dashboard",className:"flex align-ce gap-1",children:[h(L,{icon:Se}),h("span",{children:"Profile"})]}):R(C,{style:{color:"inherit",textDecoration:"inherit"},to:"/login",className:"flex align-ce gap-1",children:[h(L,{icon:xe}),h("span",{children:"Log In"})]}),R(C,{style:{color:"inherit",textDecoration:"inherit"},to:"/favorite",className:"flex align-ce gap-1",children:[h(L,{icon:Ae}),h("span",{children:"Favorites"})]}),R(C,{style:{color:"inherit",textDecoration:"inherit"},to:"/cart",className:"flex align-ce gap-1",children:[h(L,{icon:je}),h("span",{children:"Item"})]})]})]}),h("aside",{className:"categories flex",children:m})]})}export{Je as default};
