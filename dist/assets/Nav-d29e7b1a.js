import{r as g,j as p,L as C,a as R}from"./index-9fcefab8.js";import{p as h,F as L,f as ye,a as be,b as Se,c as xe,d as Ae,e as je}from"./index-4950111c.js";import{_ as Y}from"./firebase-config-409fc865.js";import{useCategories as Re}from"./CategoiresContext-562232d7.js";import{u as Ie}from"./SetOutFucntions-b315eaf2.js";function qe(n,e){if(n==null)return{};var i={},r=Object.keys(n),t,a;for(a=0;a<r.length;a++)t=r[a],!(e.indexOf(t)>=0)&&(i[t]=n[t]);return i}function X(){return X=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},X.apply(this,arguments)}function ee(n,e){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r},ee(n,e)}function ke(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,ee(n,e)}/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var ie=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,Ce=/\\([\u000b\u0020-\u00ff])/g,Ge=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,Ne=Le;function Le(n){if(!n)throw new TypeError("argument string is required");var e=typeof n=="object"?We(n):n;if(typeof e!="string")throw new TypeError("argument string is required to be a string");var i=e.indexOf(";"),r=i!==-1?e.substr(0,i).trim():e.trim();if(!Ge.test(r))throw new TypeError("invalid media type");var t=new Oe(r.toLowerCase());if(i!==-1){var a,o,s;for(ie.lastIndex=i;o=ie.exec(e);){if(o.index!==i)throw new TypeError("invalid parameter format");i+=o[0].length,a=o[1].toLowerCase(),s=o[2],s[0]==='"'&&(s=s.substr(1,s.length-2).replace(Ce,"$1")),t.parameters[a]=s}if(i!==e.length)throw new TypeError("invalid parameter format")}return t}function We(n){var e;if(typeof n.getHeader=="function"?e=n.getHeader("content-type"):typeof n.headers=="object"&&(e=n.headers&&n.headers["content-type"]),typeof e!="string")throw new TypeError("content-type header is missing from object");return e}function Oe(n){this.parameters=Object.create(null),this.type=n}var W=new Map,le=function(e){return e.cloneNode(!0)},ae=function(){return window.location.protocol==="file:"},fe=function(e,i,r){var t=new XMLHttpRequest;t.onreadystatechange=function(){try{if(!/\.svg/i.test(e)&&t.readyState===2){var a=t.getResponseHeader("Content-Type");if(!a)throw new Error("Content type not found");var o=Ne(a).type;if(!(o==="image/svg+xml"||o==="text/plain"))throw new Error("Invalid content type: ".concat(o))}if(t.readyState===4){if(t.status===404||t.responseXML===null)throw new Error(ae()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+e);if(t.status===200||ae()&&t.status===0)r(null,t);else throw new Error("There was a problem injecting the SVG: "+t.status+" "+t.statusText)}}catch(s){if(t.abort(),s instanceof Error)r(s,t);else throw s}},t.open("GET",e),t.withCredentials=i,t.overrideMimeType&&t.overrideMimeType("text/xml"),t.send()},q={},oe=function(e,i){q[e]=q[e]||[],q[e].push(i)},_e=function(e){for(var i=function(o,s){setTimeout(function(){if(Array.isArray(q[e])){var l=W.get(e),v=q[e][o];l instanceof SVGSVGElement&&v(null,le(l)),l instanceof Error&&v(l),o===q[e].length-1&&delete q[e]}},0)},r=0,t=q[e].length;r<t;r++)i(r)},Te=function(e,i,r){if(W.has(e)){var t=W.get(e);if(t===void 0){oe(e,r);return}if(t instanceof SVGSVGElement){r(null,le(t));return}}W.set(e,void 0),oe(e,r),fe(e,i,function(a,o){var s;a?W.set(e,a):((s=o.responseXML)===null||s===void 0?void 0:s.documentElement)instanceof SVGSVGElement&&W.set(e,o.responseXML.documentElement),_e(e)})},Ve=function(e,i,r){fe(e,i,function(t,a){var o;t?r(t):((o=a.responseXML)===null||o===void 0?void 0:o.documentElement)instanceof SVGSVGElement&&r(null,a.responseXML.documentElement)})},Me=0,Pe=function(){return++Me},A=[],se={},De="http://www.w3.org/2000/svg",J="http://www.w3.org/1999/xlink",ce=function(e,i,r,t,a,o,s){var l=e.getAttribute("data-src")||e.getAttribute("src");if(!l){s(new Error("Invalid data-src or src attribute"));return}if(A.indexOf(e)!==-1){A.splice(A.indexOf(e),1),e=null;return}A.push(e),e.setAttribute("src","");var v=t?Te:Ve;v(l,a,function(I,c){if(!c){A.splice(A.indexOf(e),1),e=null,s(I);return}var y=e.getAttribute("id");y&&c.setAttribute("id",y);var b=e.getAttribute("title");b&&c.setAttribute("title",b);var f=e.getAttribute("width");f&&c.setAttribute("width",f);var m=e.getAttribute("height");m&&c.setAttribute("height",m);var u=Array.from(new Set(Y(Y(Y([],(c.getAttribute("class")||"").split(" "),!0),["injected-svg"],!1),(e.getAttribute("class")||"").split(" "),!0))).join(" ").trim();c.setAttribute("class",u);var w=e.getAttribute("style");w&&c.setAttribute("style",w),c.setAttribute("data-src",l);var j=[].filter.call(e.attributes,function(E){return/^data-\w[\w-]*$/.test(E.name)});if(Array.prototype.forEach.call(j,function(E){E.name&&E.value&&c.setAttribute(E.name,E.value)}),r){var S={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]},k,d,x,G,T;Object.keys(S).forEach(function(E){k=E,x=S[E],d=c.querySelectorAll(k+"[id]");for(var ve=function(B,Be){G=d[B].id,T=G+"-"+Pe();var M;Array.prototype.forEach.call(x,function(K){M=c.querySelectorAll("["+K+'*="'+G+'"]');for(var D=0,Ee=M.length;D<Ee;D++){var ne=M[D].getAttribute(K);ne&&!ne.match(new RegExp('url\\("?#'+G+'"?\\)'))||M[D].setAttribute(K,"url(#"+T+")")}});for(var F=c.querySelectorAll("[*|href]"),Q=[],P=0,ge=F.length;P<ge;P++){var re=F[P].getAttributeNS(J,"href");re&&re.toString()==="#"+d[B].id&&Q.push(F[P])}for(var Z=0,we=Q.length;Z<we;Z++)Q[Z].setAttributeNS(J,"href","#"+T);d[B].id=T},z=0,me=d.length;z<me;z++)ve(z)})}c.removeAttribute("xmlns:a");for(var O=c.querySelectorAll("script"),V=[],H,_,N=0,de=O.length;N<de;N++)_=O[N].getAttribute("type"),(!_||_==="application/ecmascript"||_==="application/javascript"||_==="text/javascript")&&(H=O[N].innerText||O[N].textContent,H&&V.push(H),c.removeChild(O[N]));if(V.length>0&&(i==="always"||i==="once"&&!se[l])){for(var $=0,pe=V.length;$<pe;$++)new Function(V[$])(window);se[l]=!0}var he=c.querySelectorAll("style");if(Array.prototype.forEach.call(he,function(E){E.textContent+=""}),c.setAttribute("xmlns",De),c.setAttribute("xmlns:xlink",J),o(c),!e.parentNode){A.splice(A.indexOf(e),1),e=null,s(new Error("Parent node is null"));return}e.parentNode.replaceChild(c,e),A.splice(A.indexOf(e),1),e=null,s(null,c)})},Ue=function(e,i){var r=i===void 0?{}:i,t=r.afterAll,a=t===void 0?function(){}:t,o=r.afterEach,s=o===void 0?function(){}:o,l=r.beforeEach,v=l===void 0?function(){}:l,I=r.cacheRequests,c=I===void 0?!0:I,y=r.evalScripts,b=y===void 0?"never":y,f=r.httpRequestWithCredentials,m=f===void 0?!1:f,u=r.renumerateIRIElements,w=u===void 0?!0:u;if(e&&"length"in e)for(var j=0,S=0,k=e.length;S<k;S++)ce(e[S],b,w,c,m,v,function(d,x){s(d,x),e&&"length"in e&&e.length===++j&&a(j)});else e?ce(e,b,w,c,m,v,function(d,x){s(d,x),a(1),e=null}):a(0)},Xe=function(e){var i=(e==null?void 0:e.ownerDocument)||document;return i.defaultView||window},He=function(e,i){for(var r in e)if(!(r in i))return!0;for(var t in i)if(e[t]!==i[t])return!0;return!1},$e=["afterInjection","beforeInjection","evalScripts","fallback","httpRequestWithCredentials","loading","renumerateIRIElements","src","useRequestCache","wrapper"],U="http://www.w3.org/2000/svg",ue="http://www.w3.org/1999/xlink",te=function(n){ke(e,n);function e(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return r=n.call.apply(n,[this].concat(a))||this,r.initialState={hasError:!1,isLoading:!0},r.state=r.initialState,r._isMounted=!1,r.reactWrapper=void 0,r.nonReactWrapper=void 0,r.refCallback=function(s){r.reactWrapper=s},r}var i=e.prototype;return i.renderSVG=function(){var t=this;if(this.reactWrapper instanceof Xe(this.reactWrapper).Node){var a=this.props,o=a.evalScripts,s=a.httpRequestWithCredentials,l=a.renumerateIRIElements,v=a.src,I=a.useRequestCache,c=this.props.onError,y=this.props.beforeInjection,b=this.props.afterInjection,f=this.props.wrapper,m,u;f==="svg"?(m=document.createElementNS(U,f),m.setAttribute("xmlns",U),m.setAttribute("xmlns:xlink",ue),u=document.createElementNS(U,f)):(m=document.createElement(f),u=document.createElement(f)),m.appendChild(u),u.dataset.src=v,this.nonReactWrapper=this.reactWrapper.appendChild(m);var w=function(d){if(t.removeSVG(),!t._isMounted){c(d);return}t.setState(function(){return{hasError:!0,isLoading:!1}},function(){c(d)})},j=function(d,x){if(d){w(d);return}t._isMounted&&t.setState(function(){return{isLoading:!1}},function(){try{b(x)}catch(G){w(G)}})},S=function(d){try{y(d)}catch(x){w(x)}};Ue(u,{afterEach:j,beforeEach:S,cacheRequests:I,evalScripts:o,httpRequestWithCredentials:s,renumerateIRIElements:l})}},i.removeSVG=function(){var t;(t=this.nonReactWrapper)!=null&&t.parentNode&&(this.nonReactWrapper.parentNode.removeChild(this.nonReactWrapper),this.nonReactWrapper=null)},i.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},i.componentDidUpdate=function(t){var a=this;He(X({},t),this.props)&&this.setState(function(){return a.initialState},function(){a.removeSVG(),a.renderSVG()})},i.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},i.render=function(){var t=this.props;t.afterInjection,t.beforeInjection,t.evalScripts;var a=t.fallback;t.httpRequestWithCredentials;var o=t.loading;t.renumerateIRIElements,t.src,t.useRequestCache;var s=t.wrapper,l=qe(t,$e),v=s;return g.createElement(v,X({},l,{ref:this.refCallback},s==="svg"?{xmlns:U,xmlnsXlink:ue}:{}),this.state.isLoading&&o&&g.createElement(o,null),this.state.hasError&&a&&g.createElement(a,null))},e}(g.Component);te.defaultProps={afterInjection:function(){},beforeInjection:function(){},evalScripts:"never",fallback:null,httpRequestWithCredentials:!1,loading:null,onError:function(){},renumerateIRIElements:!0,useRequestCache:!0,wrapper:"div"};te.propTypes={afterInjection:h.func,beforeInjection:h.func,evalScripts:h.oneOf(["always","once","never"]),fallback:h.oneOfType([h.func,h.object,h.string]),httpRequestWithCredentials:h.bool,loading:h.oneOfType([h.func,h.object,h.string]),onError:h.func,renumerateIRIElements:h.bool,src:h.string.isRequired,useRequestCache:h.bool,wrapper:h.oneOf(["div","span","svg"])};function Je(){const{currentUser:n}=Ie(),e=()=>!(window.innerWidth>991),i=u=>{u.key==="Enter"&&b.current.click()},r=u=>{var w,j;(w=f.current)!=null&&w.classList.contains("menu-btn")&&(f.current.style.animation="btn-animation 400ms 1",setTimeout(()=>f.current.style.animation="",400)),(j=f.current)==null||j.classList.toggle("active"),I(S=>!S)},[t,a]=g.useState(""),{categories:o}=Re(),[s,l]=g.useState(e),[v,I]=g.useState(()=>s===!0),c=g.useRef(null),y=g.useRef(null),b=g.useRef(null),f=g.useRef();g.useEffect(()=>{if(!s)return;const u=c.current.getBoundingClientRect().height;y.current.style.top=`${u}px`},[s]),g.useEffect(()=>{v!==!0&&setTimeout(()=>{document.addEventListener("click",u=>{u.composedPath().includes(f.current)||r()},{once:!0})},400)},[v]),g.useEffect(()=>{const u=()=>{l(e)};return window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}},[]);const m=o==null?void 0:o.map(u=>p(C,{to:`/categories/${u.id}`,children:u.name},u.id));return R("header",{ref:c,className:"navbar",children:[R("nav",{className:" justify-sb align-ce flex user-select",children:[R("div",{className:"logo-search flex ju-sb align-ce",children:[p(C,{to:"/",className:"logo cl-black pointer",style:{color:"inherit",textDecoration:"none",padding:0},children:p(te,{src:"/logo.svg"})}),R("div",{className:"search flex",children:[p("input",{type:"search",placeholder:"Search",onChange:u=>a(u.target.value),onKeyUp:i}),p(C,{ref:b,to:`/search/name=${t}`,children:p(L,{icon:ye})})]})]}),s&&p("div",{className:"menu-btn",ref:f,onClick:r,children:p(L,{icon:be})}),R("div",{ref:y,className:s&&v&&"links flex links-small hide "||!v&&s&&"links flex links-small "||!s&&"links flex links",children:[n?R(C,{style:{color:"inherit",textDecoration:"inherit"},to:"/dashboard",className:"flex align-ce gap-1",children:[p(L,{icon:Se}),p("span",{children:"Profile"})]}):R(C,{style:{color:"inherit",textDecoration:"inherit"},to:"/login",className:"flex align-ce gap-1",children:[p(L,{icon:xe}),p("span",{children:"Log In"})]}),R(C,{style:{color:"inherit",textDecoration:"inherit"},to:"/favorite",className:"flex align-ce gap-1",children:[p(L,{icon:Ae}),p("span",{children:"Favorites"})]}),R(C,{style:{color:"inherit",textDecoration:"inherit"},to:"/cart",className:"flex align-ce gap-1",children:[p(L,{icon:je}),p("span",{children:"Item"})]})]})]}),p("aside",{className:"categories flex",children:m})]})}export{Je as default};
