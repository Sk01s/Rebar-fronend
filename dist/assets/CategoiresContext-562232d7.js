import{R as y,r as o,u as v,j as w}from"./index-9fcefab8.js";import{T as r,f as i,B as c}from"./firebase-config-409fc865.js";const n=y.createContext();function B(){return o.useContext(n)}function E({children:u}){const d=v(),[m,f]=o.useState(()=>[]),[g,l]=o.useState(()=>[]),p=r(i,"categories"),C=r(i,"products");o.useEffect(()=>{const a=async()=>{let t=c(p),e=c(C);if([t,e]=await Promise.all([t,e]),t.empty===!0||e.empty===!0){if(a(),window.location.pathname==="/403")return;d("/403")}f(t==null?void 0:t.docs.map(s=>({...s.data(),id:s.id}))),l(e==null?void 0:e.docs.map(s=>({...s.data(),id:s.id})))};a()},[]);const x={categories:m,products:g};return w(n.Provider,{value:x,children:u})}export{E as CategoiresContext,B as useCategories};
