import{r as g,j as p,L as C,a as R}from"./index-2f36ddde.js";import{M as L}from"./index-10cd52df.js";import{_ as Y}from"./firebase-config-409fc865.js";import{p as h}from"./index-4d501b15.js";import{useCategories as ye}from"./CategoiresContext-2885817d.js";import{u as be}from"./SetOutFucntions-8df471c2.js";function Se(n,e){if(n==null)return{};var i={},r=Object.keys(n),t,a;for(a=0;a<r.length;a++)t=r[a],!(e.indexOf(t)>=0)&&(i[t]=n[t]);return i}function X(){return X=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},X.apply(this,arguments)}function ee(n,e){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r},ee(n,e)}function xe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,ee(n,e)}/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var ie=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,Ae=/\\([\u000b\u0020-\u00ff])/g,je=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,Re=Ie;function Ie(n){if(!n)throw new TypeError("argument string is required");var e=typeof n=="object"?qe(n):n;if(typeof e!="string")throw new TypeError("argument string is required to be a string");var i=e.indexOf(";"),r=i!==-1?e.substr(0,i).trim():e.trim();if(!je.test(r))throw new TypeError("invalid media type");var t=new ke(r.toLowerCase());if(i!==-1){var a,o,s;for(ie.lastIndex=i;o=ie.exec(e);){if(o.index!==i)throw new TypeError("invalid parameter format");i+=o[0].length,a=o[1].toLowerCase(),s=o[2],s[0]==='"'&&(s=s.substr(1,s.length-2).replace(Ae,"$1")),t.parameters[a]=s}if(i!==e.length)throw new TypeError("invalid parameter format")}return t}function qe(n){var e;if(typeof n.getHeader=="function"?e=n.getHeader("content-type"):typeof n.headers=="object"&&(e=n.headers&&n.headers["content-type"]),typeof e!="string")throw new TypeError("content-type header is missing from object");return e}function ke(n){this.parameters=Object.create(null),this.type=n}var W=new Map,ue=function(e){return e.cloneNode(!0)},ae=function(){return window.location.protocol==="file:"},fe=function(e,i,r){var t=new XMLHttpRequest;t.onreadystatechange=function(){try{if(!/\.svg/i.test(e)&&t.readyState===2){var a=t.getResponseHeader("Content-Type");if(!a)throw new Error("Content type not found");var o=Re(a).type;if(!(o==="image/svg+xml"||o==="text/plain"))throw new Error("Invalid content type: ".concat(o))}if(t.readyState===4){if(t.status===404||t.responseXML===null)throw new Error(ae()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+e);if(t.status===200||ae()&&t.status===0)r(null,t);else throw new Error("There was a problem injecting the SVG: "+t.status+" "+t.statusText)}}catch(s){if(t.abort(),s instanceof Error)r(s,t);else throw s}},t.open("GET",e),t.withCredentials=i,t.overrideMimeType&&t.overrideMimeType("text/xml"),t.send()},q={},oe=function(e,i){q[e]=q[e]||[],q[e].push(i)},Ce=function(e){for(var i=function(o,s){setTimeout(function(){if(Array.isArray(q[e])){var u=W.get(e),v=q[e][o];u instanceof SVGSVGElement&&v(null,ue(u)),u instanceof Error&&v(u),o===q[e].length-1&&delete q[e]}},0)},r=0,t=q[e].length;r<t;r++)i(r)},Ge=function(e,i,r){if(W.has(e)){var t=W.get(e);if(t===void 0){oe(e,r);return}if(t instanceof SVGSVGElement){r(null,ue(t));return}}W.set(e,void 0),oe(e,r),fe(e,i,function(a,o){var s;a?W.set(e,a):((s=o.responseXML)===null||s===void 0?void 0:s.documentElement)instanceof SVGSVGElement&&W.set(e,o.responseXML.documentElement),Ce(e)})},Ne=function(e,i,r){fe(e,i,function(t,a){var o;t?r(t):((o=a.responseXML)===null||o===void 0?void 0:o.documentElement)instanceof SVGSVGElement&&r(null,a.responseXML.documentElement)})},Le=0,We=function(){return++Le},x=[],se={},_e="http://www.w3.org/2000/svg",J="http://www.w3.org/1999/xlink",ce=function(e,i,r,t,a,o,s){var u=e.getAttribute("data-src")||e.getAttribute("src");if(!u){s(new Error("Invalid data-src or src attribute"));return}if(x.indexOf(e)!==-1){x.splice(x.indexOf(e),1),e=null;return}x.push(e),e.setAttribute("src","");var v=t?Ge:Ne;v(u,a,function(I,c){if(!c){x.splice(x.indexOf(e),1),e=null,s(I);return}var A=e.getAttribute("id");A&&c.setAttribute("id",A);var y=e.getAttribute("title");y&&c.setAttribute("title",y);var f=e.getAttribute("width");f&&c.setAttribute("width",f);var m=e.getAttribute("height");m&&c.setAttribute("height",m);var l=Array.from(new Set(Y(Y(Y([],(c.getAttribute("class")||"").split(" "),!0),["injected-svg"],!1),(e.getAttribute("class")||"").split(" "),!0))).join(" ").trim();c.setAttribute("class",l);var w=e.getAttribute("style");w&&c.setAttribute("style",w),c.setAttribute("data-src",u);var j=[].filter.call(e.attributes,function(E){return/^data-\w[\w-]*$/.test(E.name)});if(Array.prototype.forEach.call(j,function(E){E.name&&E.value&&c.setAttribute(E.name,E.value)}),r){var b={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]},k,d,S,G,T;Object.keys(b).forEach(function(E){k=E,S=b[E],d=c.querySelectorAll(k+"[id]");for(var ve=function(Q,De){G=d[Q].id,T=G+"-"+We();var V;Array.prototype.forEach.call(S,function(K){V=c.querySelectorAll("["+K+'*="'+G+'"]');for(var D=0,Ee=V.length;D<Ee;D++){var ne=V[D].getAttribute(K);ne&&!ne.match(new RegExp('url\\("?#'+G+'"?\\)'))||V[D].setAttribute(K,"url(#"+T+")")}});for(var Z=c.querySelectorAll("[*|href]"),F=[],P=0,ge=Z.length;P<ge;P++){var re=Z[P].getAttributeNS(J,"href");re&&re.toString()==="#"+d[Q].id&&F.push(Z[P])}for(var B=0,we=F.length;B<we;B++)F[B].setAttributeNS(J,"href","#"+T);d[Q].id=T},z=0,me=d.length;z<me;z++)ve(z)})}c.removeAttribute("xmlns:a");for(var _=c.querySelectorAll("script"),M=[],$,O,N=0,de=_.length;N<de;N++)O=_[N].getAttribute("type"),(!O||O==="application/ecmascript"||O==="application/javascript"||O==="text/javascript")&&($=_[N].innerText||_[N].textContent,$&&M.push($),c.removeChild(_[N]));if(M.length>0&&(i==="always"||i==="once"&&!se[u])){for(var H=0,pe=M.length;H<pe;H++)new Function(M[H])(window);se[u]=!0}var he=c.querySelectorAll("style");if(Array.prototype.forEach.call(he,function(E){E.textContent+=""}),c.setAttribute("xmlns",_e),c.setAttribute("xmlns:xlink",J),o(c),!e.parentNode){x.splice(x.indexOf(e),1),e=null,s(new Error("Parent node is null"));return}e.parentNode.replaceChild(c,e),x.splice(x.indexOf(e),1),e=null,s(null,c)})},Oe=function(e,i){var r=i===void 0?{}:i,t=r.afterAll,a=t===void 0?function(){}:t,o=r.afterEach,s=o===void 0?function(){}:o,u=r.beforeEach,v=u===void 0?function(){}:u,I=r.cacheRequests,c=I===void 0?!0:I,A=r.evalScripts,y=A===void 0?"never":A,f=r.httpRequestWithCredentials,m=f===void 0?!1:f,l=r.renumerateIRIElements,w=l===void 0?!0:l;if(e&&"length"in e)for(var j=0,b=0,k=e.length;b<k;b++)ce(e[b],y,w,c,m,v,function(d,S){s(d,S),e&&"length"in e&&e.length===++j&&a(j)});else e?ce(e,y,w,c,m,v,function(d,S){s(d,S),a(1),e=null}):a(0)},Te=function(e){var i=(e==null?void 0:e.ownerDocument)||document;return i.defaultView||window},Me=function(e,i){for(var r in e)if(!(r in i))return!0;for(var t in i)if(e[t]!==i[t])return!0;return!1},Ve=["afterInjection","beforeInjection","evalScripts","fallback","httpRequestWithCredentials","loading","renumerateIRIElements","src","useRequestCache","wrapper"],U="http://www.w3.org/2000/svg",le="http://www.w3.org/1999/xlink",te=function(n){xe(e,n);function e(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return r=n.call.apply(n,[this].concat(a))||this,r.initialState={hasError:!1,isLoading:!0},r.state=r.initialState,r._isMounted=!1,r.reactWrapper=void 0,r.nonReactWrapper=void 0,r.refCallback=function(s){r.reactWrapper=s},r}var i=e.prototype;return i.renderSVG=function(){var t=this;if(this.reactWrapper instanceof Te(this.reactWrapper).Node){var a=this.props,o=a.evalScripts,s=a.httpRequestWithCredentials,u=a.renumerateIRIElements,v=a.src,I=a.useRequestCache,c=this.props.onError,A=this.props.beforeInjection,y=this.props.afterInjection,f=this.props.wrapper,m,l;f==="svg"?(m=document.createElementNS(U,f),m.setAttribute("xmlns",U),m.setAttribute("xmlns:xlink",le),l=document.createElementNS(U,f)):(m=document.createElement(f),l=document.createElement(f)),m.appendChild(l),l.dataset.src=v,this.nonReactWrapper=this.reactWrapper.appendChild(m);var w=function(d){if(t.removeSVG(),!t._isMounted){c(d);return}t.setState(function(){return{hasError:!0,isLoading:!1}},function(){c(d)})},j=function(d,S){if(d){w(d);return}t._isMounted&&t.setState(function(){return{isLoading:!1}},function(){try{y(S)}catch(G){w(G)}})},b=function(d){try{A(d)}catch(S){w(S)}};Oe(l,{afterEach:j,beforeEach:b,cacheRequests:I,evalScripts:o,httpRequestWithCredentials:s,renumerateIRIElements:u})}},i.removeSVG=function(){var t;(t=this.nonReactWrapper)!=null&&t.parentNode&&(this.nonReactWrapper.parentNode.removeChild(this.nonReactWrapper),this.nonReactWrapper=null)},i.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},i.componentDidUpdate=function(t){var a=this;Me(X({},t),this.props)&&this.setState(function(){return a.initialState},function(){a.removeSVG(),a.renderSVG()})},i.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},i.render=function(){var t=this.props;t.afterInjection,t.beforeInjection,t.evalScripts;var a=t.fallback;t.httpRequestWithCredentials;var o=t.loading;t.renumerateIRIElements,t.src,t.useRequestCache;var s=t.wrapper,u=Se(t,Ve),v=s;return g.createElement(v,X({},u,{ref:this.refCallback},s==="svg"?{xmlns:U,xmlnsXlink:le}:{}),this.state.isLoading&&o&&g.createElement(o,null),this.state.hasError&&a&&g.createElement(a,null))},e}(g.Component);te.defaultProps={afterInjection:function(){},beforeInjection:function(){},evalScripts:"never",fallback:null,httpRequestWithCredentials:!1,loading:null,onError:function(){},renumerateIRIElements:!0,useRequestCache:!0,wrapper:"div"};te.propTypes={afterInjection:h.func,beforeInjection:h.func,evalScripts:h.oneOf(["always","once","never"]),fallback:h.oneOfType([h.func,h.object,h.string]),httpRequestWithCredentials:h.bool,loading:h.oneOfType([h.func,h.object,h.string]),onError:h.func,renumerateIRIElements:h.bool,src:h.string.isRequired,useRequestCache:h.bool,wrapper:h.oneOf(["div","span","svg"])};function Ze(){const{currentUser:n}=be(),e=()=>!(window.innerWidth>991),i=l=>{l.key==="Enter"&&y.current.click()},r=l=>{var w,j;(w=f.current)!=null&&w.classList.contains("menu-btn")&&(f.current.style.animation="btn-animation 400ms 1",setTimeout(()=>f.current.style.animation="",400)),(j=f.current)==null||j.classList.toggle("active"),I(b=>!b)},[t,a]=g.useState(""),{categories:o}=ye(),[s,u]=g.useState(e),[v,I]=g.useState(()=>s===!0),c=g.useRef(null),A=g.useRef(null),y=g.useRef(null),f=g.useRef();g.useEffect(()=>{v!==!0&&setTimeout(()=>{document.addEventListener("click",l=>{console.log("clicked"),!l.composedPath().includes(f.current)&&r()},{once:!0})},400)},[v]),g.useEffect(()=>{const l=()=>{u(e)};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}},[]);const m=o==null?void 0:o.map(l=>p(C,{to:`/categories/${l.id}`,children:l.name},l.id));return R("header",{ref:c,className:"navbar",children:[R("nav",{className:" justify-sb align-ce flex user-select",children:[R("div",{className:"logo-search flex ju-sb align-ce",children:[p(C,{to:"",className:"logo cl-black pointer",style:{color:"inherit",textDecoration:"none",padding:0},children:p(te,{src:"/logo.svg"})}),R("div",{className:"search flex",children:[p("input",{type:"search",placeholder:"Search",onChange:l=>a(l.target.value),onKeyUp:i}),p(C,{ref:y,to:`/search/name=${t}`,children:p(L,{icon:"search"})})]})]}),s&&p("div",{className:"menu-btn",ref:f,onClick:r,children:p(L,{icon:"menu",className:"material-icons menu pointer"})}),R("div",{ref:A,className:s&&v&&"links flex links-small hide "||!v&&s&&"links flex links-small "||!s&&"links flex links",children:[n?R(C,{style:{color:"inherit",textDecoration:"inherit"},to:"/dashboard",className:"flex align-ce gap-1",children:[p(L,{icon:"account_circle"}),p("span",{children:"Profile"})]}):R(C,{style:{color:"inherit",textDecoration:"inherit"},to:"/login",className:"flex align-ce gap-1",children:[p(L,{icon:"account_circle"}),p("span",{children:"Log In"})]}),R(C,{style:{color:"inherit",textDecoration:"inherit"},to:"/favorite",className:"flex align-ce gap-1",children:[p(L,{icon:"favorite"}),p("span",{children:"Favorites"})]}),R(C,{style:{color:"inherit",textDecoration:"inherit"},to:"/cart",className:"flex align-ce gap-1",children:[p(L,{icon:"shopping_cart"}),p("span",{children:"Item"})]})]})]}),p("aside",{className:"categories flex",children:m})]})}export{Ze as default};
